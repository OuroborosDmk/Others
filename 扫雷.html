<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>扫雷</title>
	<style rel="stylesheet" type="text/css">
		*{border:0;margin:0;padding:0;text-decoration:none;}
		.box{width:800px;height:650px;margin:0 auto;border-radius:10px;margin-top:40px;border:2px solid black;}
		.box_one{width:100%;height:120px;}
		.box_one p:nth-child(1){line-height:70px;text-align:center;font-size:30px;letter-spacing:5px;}
		.box_one p:nth-child(2){text-align:center;}
		#cheese{width:480px;height:480px;margin-left:80px;border:1px solid black;border-radius:5px;float:left;}
		#cheese ul{list-style-type:none;display:none;width:100%;height:20%;}
		#cheese li{float:left;width:94px;display:none;border:1px solid black;height:94px;}
		#other{float:right;height:480px;width:240px;}
		.markindex{width:100%;height:160px;}
		.score{width:100%;height:160px;}
		.getinput{width:100%;height:160px;}
	</style>
</head>
<body>
	<div class="box" id="box">
		<div class="box_one"><p>扫雷</p><p>点击下方屏幕开始游戏，点击屏幕外暂停游戏</div>
		<div id="cheese">
			<ul>
				<li></li><li></li><li></li><li></li><li></li>
			</ul>
			<ul>
				<li></li><li></li><li></li><li></li><li></li>
			</ul>
			<ul>
				<li></li><li></li><li></li><li></li><li></li>
			</ul>
			<ul>
				<li></li><li></li><li></li><li></li><li></li>
			</ul>
			<ul>
				<li></li><li></li><li></li><li></li><li></li>
			</ul>
		</div>
		<div id="other">
			<div class="markindex"><p></p>标记数目<div></div></div>
			<div class="score"><p></p>目前得分<div></div></div>
			<div class="getinput"><input value="重新开始" type="button" id="getrefresh"></input></div>
		</div>
	</div>
	<script type="text/javascript">
		window.onload=function(){
			var cheese=document.getElementById("cheese");
			var boxul=document.getElementsByTagName("ul");
			var boxli=document.getElementsByTagName("li");
			var getrefresh=document.getElementById("getrefresh");
			var liindex=-1;//计数右键点击了哪个方块
			var rightindex=0;//计数右键次数
			
			var getstart=false;//判断游戏开始
			
			function refresh(){

			}//重新开始

			getrefresh.onclick=function(){
				refresh();
			}

			function start(){
				getstart=true;
				for(var i=0;i<boxul.length;i++){
					boxul[i].style.display="block";
					
				}
				for(var i=0;i<boxli.length;i++){
					boxli[i].style.display="block";
					boxli[i].style.backgroundColor="#C0C0C0";
				}
			}

			cheese.oncontextmenu=function(){
				return false;
			}//游戏格内禁用右键菜单功能

			for(var i=0;i<boxli.length;i++){
				boxli[i].onmousedown=function(){
					var btnNum=event.button;
					if(btnNum==2){
						if(i==liindex){
							this.style.backgroundColor="#C0C0C0";
							liindex=-1;//双击右键取消标记
						}
						else{
							rightindex+=1;
							this.style.backgroundColor="red";
							//alert(rightindex);
							liindex=i;
						}
					}
					else if(btnNum==0){
						this.style.backgroundColor="white";
					}
				}
			}//右键单击
			//onclick事件不起作用的问题
			//onmousedown事件的持续性问题
			//判断点击了哪一个li的问题，解决方案一为每个li单独作标记，这样会很麻烦，解决方案二为解决BUG

			/*function paused(){
				if(getstart==false)
					return;
			}//禁止浮动问题*/
			cheese.onclick=function(){
				start();

			}//开始游戏
			/*document.getElementById("box").onclick=function(){
				paused();
			}//暂停游戏
			document.body.onclick=function(){
				paused();
			}//暂停游戏*/
		}
	</script>
</body>
</html>